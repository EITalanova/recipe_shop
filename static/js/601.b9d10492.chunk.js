"use strict";(self.webpackChunkrecipe_shop=self.webpackChunkrecipe_shop||[]).push([[601],{153:function(e,t,r){r.d(t,{F:function(){return s}});var n=r(694),i=r.n(n),c=r(87),a="ButtonNav_btn__UmLpQ",o=r(184),s=function(e){var t=e.path,r=e.text,n=e.className,s=e.onClick;return(0,o.jsx)(c.rU,{onClick:s,to:t,className:i()(a,"".concat(n)),children:r})}},601:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var n,i=r(153),c=r(439),a=r(791),o=r(763),s=r(473),l=r(87),u=["title","titleId"];function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function f(e,t){var r=e.title,i=e.titleId,c=d(e,u);return a.createElement("svg",p({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},c),r?a.createElement("title",{id:i},r):null,n||(n=a.createElement("path",{d:"M14.3284 2.4941C15.0906 2.16819 15.9088 2 16.7359 2C17.563 2 18.3811 2.16819 19.1434 2.4941C19.9055 2.81992 20.5958 3.29656 21.1758 3.89523C21.756 4.49371 22.2147 5.20261 22.5272 5.98065C22.8396 6.75864 23 7.59148 23 8.43187C23 9.27225 22.8396 10.1051 22.5272 10.8831C22.2148 11.6611 21.7561 12.3699 21.1759 12.9683C21.1759 12.9684 21.176 12.9683 21.1759 12.9683L12.7179 21.6959C12.5295 21.8903 12.2704 22 11.9997 22C11.7291 22 11.47 21.8903 11.2816 21.6959L2.82357 12.9683C1.65254 11.76 1 10.1276 1 8.43187C1 6.73612 1.65254 5.10375 2.82357 3.8954C3.99563 2.68599 5.59209 2.00053 7.26361 2.00053C8.93512 2.00053 10.5316 2.68599 11.7036 3.8954L11.9997 4.20093L12.2957 3.89557C12.2956 3.89562 12.2957 3.89551 12.2957 3.89557C12.8757 3.29682 13.5662 2.81995 14.3284 2.4941ZM19.7395 5.28709C19.3422 4.87692 18.8722 4.55328 18.3571 4.33307C17.8422 4.11289 17.2914 4 16.7359 4C16.1804 4 15.6296 4.11289 15.1146 4.33307C14.5996 4.55328 14.1295 4.87692 13.7322 5.28709L12.7179 6.33378C12.5295 6.52814 12.2704 6.63785 11.9997 6.63785C11.7291 6.63785 11.47 6.52814 11.2816 6.33378L10.2674 5.28726C9.46526 4.45953 8.38409 4.00053 7.26361 4.00053C6.14313 4.00053 5.06196 4.45953 4.25978 5.28726C3.45658 6.11606 3 7.24666 3 8.43187C3 9.61708 3.45658 10.7477 4.25978 11.5765L11.9997 19.5631L19.7397 11.5765C20.1373 11.1664 20.4544 10.6777 20.6712 10.1378C20.888 9.59786 21 9.01809 21 8.43187C21 7.84565 20.888 7.26587 20.6712 6.72592C20.4544 6.18601 20.1371 5.69713 19.7395 5.28709Z"})))}var v,h=a.forwardRef(f),m=(r.p,["title","titleId"]);function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b(e,t){var r=e.title,n=e.titleId,i=k(e,m);return a.createElement("svg",C({width:24,height:24,viewBox:"0 0 43 43",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),r?a.createElement("title",{id:n},r):null,v||(v=a.createElement("path",{d:"M21.5002 38.2521L18.9022 35.8871C9.67516 27.52 3.5835 22.0017 3.5835 15.2292C3.5835 9.71083 7.91933 5.375 13.4377 5.375C16.5552 5.375 19.5472 6.82625 21.5002 9.11958C23.4531 6.82625 26.4452 5.375 29.5627 5.375C35.081 5.375 39.4168 9.71083 39.4168 15.2292C39.4168 22.0017 33.3252 27.52 24.0981 35.905L21.5002 38.2521Z",fillOpacity:.87})))}var j,x,g=a.forwardRef(b),w=(r.p,["title","titleId"]);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function L(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function O(e,t){var r=e.title,n=e.titleId,i=L(e,w);return a.createElement("svg",y({width:20,height:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),r?a.createElement("title",{id:n},r):null,j||(j=a.createElement("g",{clipPath:"url(#clip0_2836_10909)"},a.createElement("path",{d:"M24 0H0V24H24V0Z",fill:"white",fillOpacity:.01}),a.createElement("path",{d:"M21 4H3C2.44772 4 2 4.44772 2 5V21C2 21.5523 2.44772 22 3 22H21C21.5523 22 22 21.5523 22 21V5C22 4.44772 21.5523 4 21 4Z",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M2 10H22",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M2 16H22",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.5 2V6",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M15.5 2V6",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M8.5 10V22",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M15.5 10V22",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M22 6.5V19.5",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M2 6.5V19.5",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M7 22H17",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}))),x||(x=a.createElement("defs",null,a.createElement("clipPath",{id:"clip0_2836_10909"},a.createElement("rect",{width:24,height:24,fill:"white"})))))}var _,R,E,Z=a.forwardRef(O),V=(r.p,["title","titleId"]);function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(this,arguments)}function N(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function M(e,t){var r=e.title,n=e.titleId,i=N(e,V);return a.createElement("svg",I({width:20,height:20,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),r?a.createElement("title",{id:n},r):null,_||(_=a.createElement("path",{d:"M10.5938 5H13.4062L16.5 10.5903V22H7.5V10.5903L10.5938 5Z",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),R||(R=a.createElement("path",{d:"M14 2H10V5H14V2Z",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),E||(E=a.createElement("path",{d:"M13.5 13C13.5 12.1716 12.8284 11.5 12 11.5C11.1716 11.5 10.5 12.1716 10.5 13V16C10.5 16.8284 11.1716 17.5 12 17.5C12.8284 17.5 13.5 16.8284 13.5 16V13Z",stroke:"#333333",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}var F=a.forwardRef(M),P=(r.p,{recipeCard:"RecipeCard_recipeCard__FLU0I",recipeCardOverlay:"RecipeCard_recipeCardOverlay__j2S3B",btnFavorite:"RecipeCard_btnFavorite__4WeWR",iconFavorite:"RecipeCard_iconFavorite__1VE8A",recipeCardLink:"RecipeCard_recipeCardLink__KmLIS",recipeCardImgBox:"RecipeCard_recipeCardImgBox__I60JZ",recipeCardText:"RecipeCard_recipeCardText__VW4oS",recipeCardBox:"RecipeCard_recipeCardBox__j6VkE",recipeCardTitle:"RecipeCard_recipeCardTitle__kXHvQ"}),S=r(184),W=function(e){var t=e.recipe,r=t.image_url,n=t.name,i=t.id,c=t.description,a=t.tagline,o=t.first_brewed,u=t.volume,p=(0,s.Z)((function(e){return e.addFavoriteRecipe})),d=(0,s.Z)((function(e){return e.removeFavoriteRecipe})),f=(0,s.Z)((function(e){return e.favoriteRecipes})).includes(i),v=function(e){return e.preventDefault(),f?d(i):p(i)};return(0,S.jsx)("li",{id:i,className:P.recipeCard,onContextMenu:v,children:(0,S.jsxs)(l.OL,{className:P.recipeCardLink,to:"/recipes/".concat(i),children:[(0,S.jsx)("div",{className:P.recipeCardImgBox,children:(0,S.jsx)("img",{src:r,alt:"beer"})}),(0,S.jsxs)("div",{className:P.recipeCardText,children:[(0,S.jsx)("h2",{className:P.recipeCardTitle,children:n}),(0,S.jsx)("p",{className:P.recipeCardText,children:a}),(0,S.jsxs)("div",{className:P.recipeCardBox,children:[(0,S.jsx)(Z,{}),(0,S.jsx)("p",{className:P.recipeCardText,children:o})]}),(0,S.jsxs)("div",{className:P.recipeCardBox,children:[(0,S.jsx)(F,{}),(0,S.jsx)("p",{className:P.recipeCardText,children:"".concat(u.value," ").concat(u.unit)})]})]}),(0,S.jsxs)("button",{className:P.btnFavorite,onClick:v,children:[f?(0,S.jsx)(g,{className:P.iconFavorite}):(0,S.jsx)(h,{className:P.iconFavorite}),(0,S.jsx)("p",{children:f?"remove from favorites":"add to favorites"})]}),(0,S.jsx)("div",{className:P.recipeCardOverlay,children:(0,S.jsx)("p",{className:P.recipeCardDiscription,children:c})})]})})},B="RecipesList_recipesList__U2LzM",H="RecipesList_btnOnFavorite__PoQ07",T="RecipesList_btnOffFavorite__-HaIl",U=function(){var e=(0,a.useState)(!1),t=(0,c.Z)(e,2),r=t[0],n=t[1],i=(0,a.useState)(!1),l=(0,c.Z)(i,2),u=l[0],p=l[1],d=(0,a.useState)([]),f=(0,c.Z)(d,2),v=f[0],h=f[1],m=(0,s.Z)((function(e){return e.fetchRecipes})),C=(0,s.Z)((function(e){return e.visibleRecipes})),k=(0,s.Z)((function(e){return e.favoriteRecipes})),b=(0,s.Z)((function(e){return e.updateVisibleRecipes})),j=(0,s.Z)((function(e){return e.updatePage})),x=(0,s.Z)((function(e){return e.page})),g=(0,s.Z)((function(e){return e.recipes})),w=(0,a.useRef)(null);(0,a.useEffect)((function(){var e=g[g.length-1];if(window.scrollTo(0,0),r){b(),n(!1);var t=C[C.length-1];e.id===t.id&&j()}}),[r]),(0,a.useEffect)((function(){m(x)}),[x]),(0,a.useEffect)((function(){return window.addEventListener("scroll",y),function(){window.removeEventListener("scroll",y)}}),[]);var y=(0,o.debounce)((function(){var e=document.documentElement,t=e.scrollTop,i=e.clientHeight;t+i>=i+110&&!r&&n(!0)}),200);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("button",{onClick:function(){p(!u);var e=g.filter((function(e){return k.includes(e.id)}));h(e)},className:u?H:T,children:"Show only favorites"}),(0,S.jsx)("ul",{className:B,ref:w,children:u?v.map((function(e){return(0,S.jsx)(W,{recipe:e},e.id)})):C.map((function(e){return(0,S.jsx)(W,{recipe:e},e.id)}))})]})},Q="RecipeShop_recipeShop__IQcVG",D=function(){return(0,S.jsxs)("div",{className:Q,children:[(0,S.jsx)(i.F,{path:"/",text:"Back"}),(0,S.jsx)(U,{})]})}},473:function(e,t,r){var n=r(433),i=r(861),c=r(687),a=r.n(c),o=r(243),s=r(847);o.Z.defaults.baseURL="https://api.punkapi.com/v2";var l=(0,s.Ue)((function(e){return{recipes:[],oneRecipe:null,favoriteRecipes:[],visibleRecipes:[],page:1,fetchRecipes:function(){var t=(0,i.Z)(a().mark((function t(r){var n,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.Z.get("/beers?page=".concat(r));case 3:return n=t.sent,i=n.data,e({recipes:n.data}),t.abrupt("return",e((function(e){return{recipes:i,visibleRecipes:i.slice(0,15)}})));case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),fetchRecipeById:function(){var t=(0,i.Z)(a().mark((function t(r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.Z.get("/beers/".concat(r));case 3:n=t.sent,e({oneRecipe:n.data[0]}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),addFavoriteRecipe:function(t){e((function(e){return{favoriteRecipes:[].concat((0,n.Z)(e.favoriteRecipes),[t])}}))},removeFavoriteRecipe:function(t){e((function(e){return{favoriteRecipes:e.favoriteRecipes.filter((function(e){return e!==t}))}}))},updatePage:function(){return e((function(e){return{page:e.page+1}}))},updateVisibleRecipes:function(){e((function(e){var t=e.recipes.indexOf(e.visibleRecipes[e.visibleRecipes.length-1]),r=e.recipes.slice(t+1,t+1+5);e.visibleRecipes.splice(10,5);return{visibleRecipes:[].concat((0,n.Z)(r),(0,n.Z)(e.visibleRecipes))}}))}}}));t.Z=l}}]);
//# sourceMappingURL=601.b9d10492.chunk.js.map